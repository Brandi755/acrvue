(function(t){function e(e){for(var n,s,i=e[0],c=e[1],l=e[2],u=0,d=[];u<i.length;u++)s=i[u],Object.prototype.hasOwnProperty.call(r,s)&&r[s]&&d.push(r[s][0]),r[s]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);p&&p(e);while(d.length)d.shift()();return o.push.apply(o,l||[]),a()}function a(){for(var t,e=0;e<o.length;e++){for(var a=o[e],n=!0,s=1;s<a.length;s++){var i=a[s];0!==r[i]&&(n=!1)}n&&(o.splice(e--,1),t=c(c.s=a[0]))}return t}var n={},s={app:0},r={app:0},o=[];function i(t){return c.p+"js/"+({}[t]||t)+"."+{"chunk-95d1bbf6":"ddd05953"}[t]+".js"}function c(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,c),a.l=!0,a.exports}c.e=function(t){var e=[],a={"chunk-95d1bbf6":1};s[t]?e.push(s[t]):0!==s[t]&&a[t]&&e.push(s[t]=new Promise((function(e,a){for(var n="css/"+({}[t]||t)+"."+{"chunk-95d1bbf6":"4f2e3611"}[t]+".css",r=c.p+n,o=document.getElementsByTagName("link"),i=0;i<o.length;i++){var l=o[i],u=l.getAttribute("data-href")||l.getAttribute("href");if("stylesheet"===l.rel&&(u===n||u===r))return e()}var d=document.getElementsByTagName("style");for(i=0;i<d.length;i++){l=d[i],u=l.getAttribute("data-href");if(u===n||u===r)return e()}var p=document.createElement("link");p.rel="stylesheet",p.type="text/css",p.onload=e,p.onerror=function(e){var n=e&&e.target&&e.target.src||r,o=new Error("Loading CSS chunk "+t+" failed.\n("+n+")");o.code="CSS_CHUNK_LOAD_FAILED",o.request=n,delete s[t],p.parentNode.removeChild(p),a(o)},p.href=r;var m=document.getElementsByTagName("head")[0];m.appendChild(p)})).then((function(){s[t]=0})));var n=r[t];if(0!==n)if(n)e.push(n[2]);else{var o=new Promise((function(e,a){n=r[t]=[e,a]}));e.push(n[2]=o);var l,u=document.createElement("script");u.charset="utf-8",u.timeout=120,c.nc&&u.setAttribute("nonce",c.nc),u.src=i(t);var d=new Error;l=function(e){u.onerror=u.onload=null,clearTimeout(p);var a=r[t];if(0!==a){if(a){var n=e&&("load"===e.type?"missing":e.type),s=e&&e.target&&e.target.src;d.message="Loading chunk "+t+" failed.\n("+n+": "+s+")",d.name="ChunkLoadError",d.type=n,d.request=s,a[1](d)}r[t]=void 0}};var p=setTimeout((function(){l({type:"timeout",target:u})}),12e4);u.onerror=u.onload=l,document.head.appendChild(u)}return Promise.all(e)},c.m=t,c.c=n,c.d=function(t,e,a){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(c.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)c.d(a,n,function(e){return t[e]}.bind(null,n));return a},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="/",c.oe=function(t){throw console.error(t),t};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],u=l.push.bind(l);l.push=e,l=l.slice();for(var d=0;d<l.length;d++)e(l[d]);var p=u;o.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"0040":function(t,e,a){},"034f":function(t,e,a){"use strict";var n=a("85ec"),s=a.n(n);s.a},"0924":function(t,e,a){"use strict";var n=a("0040"),s=a.n(n);s.a},"0d9b":function(t,e,a){"use strict";var n=a("7395"),s=a.n(n);s.a},"128b":function(t,e,a){},"15ef":function(t,e,a){"use strict";var n=a("a85b"),s=a.n(n);s.a},2104:function(t,e,a){"use strict";var n=a("8be3"),s=a.n(n);s.a},"228b":function(t,e,a){},3500:function(t,e,a){var n={"./b13.jpeg":"5383","./bjpi.jpeg":"b595","./chevrolet.jpeg":"b60f","./clio.jpeg":"68ad","./dacia.jpeg":"791c","./espace.jpeg":"3820","./fiat.jpeg":"b135","./golf.jpeg":"6b3f","./koleos.jpeg":"7d01","./opnr.jpeg":"9c7c","./talisman.jpeg":"c5ae","./telecommande.jpeg":"563f","./trafic.jpeg":"7289","./velsatis.jpeg":"99f4","./voiture.jpeg":"68ca"};function s(t){var e=r(t);return a(e)}function r(t){if(!a.o(n,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return n[t]}s.keys=function(){return Object.keys(n)},s.resolve=r,t.exports=s,s.id="3500"},3701:function(t,e,a){},3820:function(t,e,a){t.exports=a.p+"img/espace.2831761f.jpeg"},"3a28":function(t,e,a){"use strict";var n=a("c946"),s=a.n(n);s.a},"3e81":function(t,e,a){"use strict";var n=a("67a7"),s=a.n(n);s.a},"3f9d":function(t,e,a){"use strict";e["a"]="http://localhost:3000"},"434b":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"single-publication"},[n("figure",[n("a",[void 0!==t.produit.images[0]?n("img",{attrs:{src:a("3500")("./"+t.produit.images[0].Image+".jpeg"),alt:"Publication Image",width:"100%",height:"300"}}):t._e()])]),n("div",{staticClass:"publication-content"},[n("h3",[n("a",{attrs:{href:""}},[t._v(t._s(t.produit.marque))]),n("br"),n("a",{attrs:{href:""}},[t._v(t._s(t.produit.modele))]),n("br"),n("a",{attrs:{href:""}},[t._v(t._s(t.produit.annee))])]),n("p",{staticClass:"text-block"},[t._v(t._s(t.produit.description))]),n("h4",{staticClass:"price"},[t._v(t._s(t.produit.prix)+" €")])]),n("div",{staticClass:"add-to-cart"},[n("a",{staticClass:"default-btn",on:{click:function(e){return t.ajouter(t.produit.id,t.produit.nom,t.produit.prix,t.produit.images[0].Image)}}},[t._v("Ajouter au panier ")])]),n("v-snackbar",{scopedSlots:t._u([{key:"action",fn:function(e){var a=e.attrs;return[n("v-btn",t._b({attrs:{color:"pink",text:""},on:{click:function(e){t.snackbar=!1}}},"v-btn",a,!1),[t._v(" Fermer ")])]}}]),model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v(" Le produit a bien été ajouté au panier ")])],1)},s=[],r=(a("4160"),a("159b"),{props:["produit"],data:function(){return{Panier:[],snackbar:!1}},methods:{ajouter:function(t,e,a,n){if(this.getLocalStorage(),localStorage.removeItem("panier"),0===this.Panier.length){var s=1;this.Panier.push({produitId:t,nom:e,quantite:s,prix_unitaire:a,soustotal:s*a,image:n})}else{var r=!1;if(this.Panier.forEach((function(e){e.produitId===t&&(e.quantite++,e.soustotal=e.quantite*a,r=!0)})),!1===r){var o=1;this.Panier.push({produitId:t,nom:e,quantite:o,prix_unitaire:a,soustotal:o*a,image:n})}}localStorage.setItem("panier",JSON.stringify(this.Panier)),this.snackbar=!0},getLocalStorage:function(){var t=localStorage.getItem("panier");null!=t&&void 0!=t&&(this.Panier=JSON.parse(t))}},created:function(){console.log("this.produit :>> ",this.produit)}}),o=r,i=(a("56c3"),a("2877")),c=a("6544"),l=a.n(c),u=a("8336"),d=a("2db4"),p=Object(i["a"])(o,n,s,!1,null,"4cfa5d04",null);e["a"]=p.exports;l()(p,{VBtn:u["a"],VSnackbar:d["a"]})},"4c24":function(t,e,a){"use strict";var n=a("b171"),s=a.n(n);s.a},"4fa9":function(t,e,a){"use strict";var n=a("128b"),s=a.n(n);s.a},"517d":function(t,e,a){},5383:function(t,e,a){t.exports=a.p+"img/b13.048c44eb.jpeg"},5408:function(t,e,a){t.exports=a.p+"img/logost.49828047.png"},5477:function(t,e,a){"use strict";var n=a("228b"),s=a.n(n);s.a},"563f":function(t,e,a){t.exports=a.p+"img/telecommande.934ff31f.jpeg"},"56c3":function(t,e,a){"use strict";var n=a("ae33"),s=a.n(n);s.a},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("2b0e"),s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("v-app",[a("MyMenu"),a("div",{staticClass:"wrap",attrs:{id:"page-wrap"}},[a("router-view",{staticClass:"router-wrap"})],1)],1)],1)},r=[],o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"wrap"},[a("Slide",[1==t.login?a("h3",[t._v(" Vous êtes connecté en tant que "+t._s(t.decodedToken.email)+" ")]):t._e(),0==t.login?a("h3",[t._v(" Vous n'êtes pas connecté ")]):t._e(),a("a",{attrs:{href:"/Accueil"}},[a("span",[t._v("Accueil")])]),a("a",{attrs:{href:"/propos"}},[a("span",[t._v("A propos")])]),a("a",{attrs:{href:"/produit"}},[a("span",[t._v("Produits")])]),a("a",{attrs:{href:"/Panier"}},[a("span",[t._v("Mon Panier")])]),a("a",{attrs:{href:"/profil"}},[a("span",[t._v("Mon Profil")])]),"admin"==this.decodedToken.role?a("a",{attrs:{href:"/backoffice"}},[a("span",[t._v("Back Office")])]):t._e(),0==t.login?a("a",{attrs:{href:"/login"}},[a("span",[t._v("Login")])]):t._e(),0==t.login?a("a",{attrs:{href:"/register"}},[a("span",[t._v("Register")])]):t._e(),1==t.login?a("a",{attrs:{href:"#"},on:{click:t.logout}},[a("span",[t._v("Logout")])]):t._e()])],1)},i=[],c=(a("ac1f"),a("5319"),a("1232")),l=a("db0f");function u(){localStorage.removeItem("token"),window.location.replace("http://localhost:8080/accueil")}var d={name:"MyMenu",components:{Slide:l["Slide"]},data:function(){return{decodedToken:{},login:!1}},methods:{logout:u},created:function(){var t=localStorage.getItem("token");console.log("mytoken = ",t),t&&(this.login=!0,this.decodedToken=Object(c["a"])(t),console.log("this.decodedToken = ",this.decodedToken),console.log("this.decodedToken.role >> = ",this.decodedToken.role))}},p=d,m=(a("8c01"),a("2877")),f=Object(m["a"])(p,o,i,!1,null,"ef96c2b8",null),v=f.exports,h={components:{MyMenu:v}},b=h,g=(a("034f"),a("6544")),k=a.n(g),_=a("7496"),C=Object(m["a"])(b,s,r,!1,null,null,null),x=C.exports;k()(C,{VApp:_["a"]});var y=a("9483");Object(y["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(t){console.error("Error during service worker registration:",t)}});a("d3b7");var w=a("8c4f"),T=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"wrap"},[a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6 mx-auto p-0"},[a("div",{staticClass:"card"},[a("div",{staticClass:"login-box"},[a("div",{staticClass:"login-snip"},[a("input",{staticClass:"sign-in",attrs:{id:"tab-1",type:"radio",name:"tab",checked:""}}),a("label",{staticClass:"tab",attrs:{for:"tab-1"}},[t._v("Se connecter")]),a("input",{staticClass:"sign-up",attrs:{id:"tab-2",type:"radio",name:"tab"}}),a("label",{staticClass:"tab",attrs:{for:"tab-2"}},[t._v("S'inscrire")]),a("div",{staticClass:"login-space"},[a("div",{staticClass:"login"},[a("div",{staticClass:"group"},[a("label",{staticClass:"label",attrs:{for:"user"}},[t._v("Nom d'utilisateur")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.emaillogin,expression:"emaillogin"}],staticClass:"input",attrs:{id:"user",type:"text",placeholder:"Entrez votre nom d'utilisateur"},domProps:{value:t.emaillogin},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.dologin(e)},input:function(e){e.target.composing||(t.emaillogin=e.target.value)}}})]),a("div",{staticClass:"group"},[a("label",{staticClass:"label",attrs:{for:"pass"}},[t._v("Mot de passe")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.passwordlogin,expression:"passwordlogin"}],staticClass:"input",attrs:{id:"pass",type:"password","data-type":"password",placeholder:"Entrez votre mot de passe"},domProps:{value:t.passwordlogin},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.dologin(e)},input:function(e){e.target.composing||(t.passwordlogin=e.target.value)}}})]),t._m(0),a("div",{staticClass:"group"},[a("button",{staticClass:"button",attrs:{value:"Sign In"},on:{click:t.dologin}},[t._v(" Se connecter ")])]),a("div",{staticClass:"hr"}),t._m(1)]),a("div",{staticClass:"sign-up-form"},[a("div",{staticClass:"group"},[a("label",{staticClass:"label",attrs:{for:"email"}},[t._v("adresse e-mail")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"input",attrs:{id:"email",type:"text",placeholder:"Entrez votre adresse e-mail"},domProps:{value:t.email},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.doregister(e)},input:function(e){e.target.composing||(t.email=e.target.value)}}})]),a("div",{staticClass:"group"},[a("label",{staticClass:"label",attrs:{for:"passRegister"}},[t._v("Mot de passe")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"input",attrs:{id:"passRegister",type:"password","data-type":"password",placeholder:"Créez votre mot de passe"},domProps:{value:t.password},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.doregister(e)},input:function(e){e.target.composing||(t.password=e.target.value)}}})]),a("div",{staticClass:"group"},[a("label",{staticClass:"label",attrs:{for:"rePassRegister"}},[t._v("Répéter le mot de passe")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.repassword,expression:"repassword"}],staticClass:"input",attrs:{id:"rePassRegister",type:"password","data-type":"password",placeholder:"Répétez votre mot de passe"},domProps:{value:t.repassword},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.doregister(e)},input:function(e){e.target.composing||(t.repassword=e.target.value)}}})]),a("div",{staticClass:"group"},[a("button",{staticClass:"button",attrs:{value:"Sign Up"},on:{click:t.doregister}},[t._v(" S'incrire ")])]),a("div",{staticClass:"hr"}),t._m(2)])])])])])])]),a("v-snackbar",{scopedSlots:t._u([{key:"action",fn:function(e){var n=e.attrs;return[a("v-btn",t._b({attrs:{color:"pink",text:""},on:{click:function(e){t.snackbar=!1}}},"v-btn",n,!1),[t._v(" Fermer ")])]}}]),model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v(" "+t._s(t.snackbarText)+" ")])],1)])},S=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"group"},[a("input",{staticClass:"check",attrs:{id:"check",type:"checkbox",checked:""}}),a("label",{attrs:{for:"check"}},[a("span",{staticClass:"icon"}),t._v(" Gardez-moi connecté")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"foot"},[a("a",{attrs:{href:"./sendforgetpwd"}},[t._v("Mot de passe oublier?")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"foot"},[a("label",{attrs:{for:"tab-1"}},[t._v("Déjà membre ?")])])}],$=a("3f9d");function j(){var t=this;console.log(this.login),this.axios.post($["a"]+"/user/login",{email:this.emaillogin,password:this.passwordlogin}).then((function(e){e.data.token?(localStorage.setItem("token",e.data.token),t.$router.push({name:"accueil"}),window.location.reload()):t.$router.push({name:"login",params:{msg:"non connecté"}})})).catch((function(e){t.snackbarText="votre mot de passe ou votre email est incorrect ou votre compte n'a pas été valider",t.snackbar=!0,console.log(e)}))}function E(){var t=this;function e(t){var e=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return e.test(String(t).toLowerCase())}this.password===this.repassword?e(this.email)?this.axios.post($["a"]+"/user/register",{email:this.email,password:this.password}).then((function(e){if(console.log(e),200==e.status){document.getElementById("tab-1").checked=!0;var a=$["a"]+"/user/sendvalidemail";t.axios.post(a,{email:t.email}).then((function(e){console.log("response.data :>> ",e.data),t.snackbarText="Votre compte a été crée. Un lien de validation vous à été envoyer !",t.snackbar=!0})).catch((function(t){console.log(t)}))}else alert("else"),t.$router.push({name:"register",params:{msg:"non connecté"}})})).catch((function(e){e&&e.response&&401==e.response.status?(t.snackbarText="Cet email est déjà utilisé.",t.snackbar=!0):(t.snackbarText="Erreur de base de données",t.snackbar=!0),console.log("err :>> ",e)})):alert("Veillez entrer un adresse email valide pour vous inscrire un mail de confirmation vas vous être envoyer."):alert("Les 2 mots de passes sont incorrecte merci de recommencer !")}var O={name:"register",data:function(){return{email:"",password:"",repassword:"",emaillogin:"",passwordlogin:"",snackbar:!1,snackbarText:""}},components:{},methods:{dologin:j,doregister:E},created:function(){var t=localStorage.getItem("token");t&&this.$router.push({name:"accueil"})},mounted:function(){var t=document.getElementById("tab-2");"/register"==window.location.pathname&&(t.checked=!0)}},P=O,V=(a("5e2c"),a("8336")),I=a("2db4"),q=Object(m["a"])(P,T,S,!1,null,"ac761484",null),F=q.exports;k()(q,{VBtn:V["a"],VSnackbar:I["a"]});var M=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("MyPanier",{attrs:{panier:t.panier}})],1)},N=[],A=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"wrap"},[t._m(0),n("div",{staticClass:"panier"},[n("table",{staticClass:"table"},[t._m(1),n("tbody",[t._l(t.panier,(function(e,s){return n("tr",{key:s},[n("td",[n("img",{staticClass:"imgcle",attrs:{src:a("3500")("./"+e.image+".jpeg"),alt:"Product photo"}})]),n("td",[t._v(t._s(e.nom))]),n("td",[n("div",{staticClass:"selectPlusMinus"},[n("input",{staticClass:"btn btn-primary",attrs:{type:"button",value:"+"},on:{click:function(e){return t.update(s)}}}),t._v(" "+t._s(e.quantite)+" "),n("input",{staticClass:"btn btn-primary",attrs:{type:"button",value:"-"},on:{click:function(e){return t.updateqtn(s)}}})])]),n("td",[t._v(t._s((e.quantite*e.prix_unitaire).toFixed(2))+"€")]),n("td",[n("button",{staticClass:"btn-bg-info-btn-block",on:{click:function(e){return t.supprimer(s)}}},[n("i",{staticClass:"fa fa-trash-o fa-lg"})])])])})),n("tr",[n("td",{attrs:{colspan:"3"}}),n("td",[t._v(t._s(t.total)+"€")]),n("td",{attrs:{colspan:"2"}})])],2)]),n("div",{staticClass:"btnValider"},[this.total>1?n("button",{staticClass:"btnvalider",on:{click:t.goCommande}},[n("i",{staticClass:"fa fa-check-circle"}),n("span",[t._v(" Commander")])]):t._e(),this.total<=0?n("button",{staticClass:"btnvalider",on:{click:t.goProduit}},[n("i",{staticClass:"fa fa-check-circle"}),n("span",[t._v(" Ajouter un produit ")])]):t._e()])])])},z=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"logo"},[n("img",{staticClass:"logoimg",attrs:{src:a("5408")}}),n("div",{staticClass:"paniertitre"},[n("h4",[t._v("Mon Panier")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",{staticClass:"bg-info-id"},[a("tr",[a("th"),a("th",[t._v("Nom")]),a("th",[t._v("Quantité")]),a("th",[t._v("Soustotal")]),a("th",[t._v("Supprimer")])])])}],B=(a("a434"),a("b680"),a("b85c")),D=a("a3d9");function L(){this.$router.push({name:"produit"}),window.location.href="/produit"}function R(){localStorage.getItem("token")?this.$router.push({name:"commande"}):this.$router.push({name:"login"})}function U(t){this.panier[t].quantite++,this.panier[t].soustotal=this.panier[t].quantite*this.panier[t].prix_unitaire,console.log(this.panier),localStorage.removeItem("panier"),localStorage.setItem("panier",JSON.stringify(this.panier))}function J(t){this.panier[t].quantite>1?(this.panier[t].quantite--,console.log(this.panier),localStorage.removeItem("panier"),localStorage.setItem("panier",JSON.stringify(this.panier))):this.supprimer(t)}function G(t){this.panier.splice(t,1),localStorage.removeItem("panier"),this.panier.length>0&&localStorage.setItem("panier",JSON.stringify(this.panier))}function Q(){var t,e=0,a=Object(B["a"])(this.panier);try{for(a.s();!(t=a.n()).done;){var n=t.value;e+=n.prix_unitaire*n.quantite}}catch(s){a.e(s)}finally{a.f()}return e.toFixed(2)}var K={name:"MyPanier",props:["panier"],data:function(){return{}},computed:{total:Q},methods:{goProduit:L,goCommande:R,update:U,updateqtn:J,supprimer:G},components:{MyFooter:D["a"]}},W=K,H=(a("4fa9"),Object(m["a"])(W,A,z,!1,null,"2ecb3fd6",null)),X=H.exports,Z={components:{MyPanier:X},data:function(){return{panier:[]}},created:function(){localStorage.getItem("panier")&&(this.panier=JSON.parse(localStorage.getItem("panier")))}},Y=Z,tt=Object(m["a"])(Y,M,N,!1,null,null,null),et=tt.exports,at=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"wrap"},[a("link",{attrs:{rel:"stylesheet",href:"https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css",integrity:"sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh",crossorigin:"anonymous"}}),a("MyProduits",{attrs:{produits:t.produits}})],1)},nt=[],st=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"wrap"},[t._m(0),t._m(1),t._m(2),a("div",{staticClass:"searchtest"},[a("link",{attrs:{rel:"stylesheet",href:"https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css",integrity:"sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh",crossorigin:"anonymous"}}),a("div",{staticClass:"containerS"},[a("fieldset",[a("div",{staticClass:"input-group"},[a("div",{staticClass:"input-group-prepend"}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.marque,expression:"marque"}],staticClass:"form-control",attrs:{id:"oSaisie",name:"oSaisie",type:"text","aria-label":"Saisie de mots clés",required:"required"},domProps:{value:t.marque},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.sendForm(e)},input:function(e){e.target.composing||(t.marque=e.target.value)}}}),a("div",{staticClass:"input-group-append"},[a("button",{staticClass:"btn btn-primary",on:{click:t.sendForm}},[t._v(" Recherche ")])])])])])]),a("section",{staticClass:"our-publication pt-10 pb-70"},[a("div",{staticClass:"container"},[a("div",{staticClass:"section-header"}),a("div",{staticClass:"row"},t._l(t.produits,(function(t){return a("div",{key:t.id,staticClass:"col-sm-6 col-lg-3"},[a("MyProduit",{attrs:{produit:t}})],1)})),0)])])])},rt=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"logo"},[n("img",{staticClass:"logoimg",attrs:{src:a("5408")}})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"titre"},[a("h4",[t._v("Acheter votre clé en quelques clics")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",[a("br"),a("br"),a("b",[t._v("Rechercher une marque spécifique")])])}],ot=a("434b");function it(){var t=this;this.marque||this.axios.get("http://localhost:3000/produit/all").then((function(e){t.produits=e.data.produits})).catch((function(t){alert(t)}));var e=$["a"]+"/produit/findBy/"+this.marque;this.axios.get(e).then((function(e){t.produits=e.data.produits}))}var ct={props:["produits"],components:{MyProduit:ot["a"]},data:function(){return{marque:""}},methods:{sendForm:it},mounted:function(){}},lt=ct,ut=(a("a619"),Object(m["a"])(lt,st,rt,!1,null,"0b055d46",null)),dt=ut.exports,pt={data:function(){return{produits:{}}},components:{MyProduits:dt},mounted:function(){var t=this;this.axios.get("http://localhost:3000/produit/all").then((function(e){t.produits=e.data.produits})).catch((function(t){alert(t)}))}},mt=pt,ft=Object(m["a"])(mt,at,nt,!1,null,"3243980c",null),vt=ft.exports,ht=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[a("div",{staticClass:"col-6 offset-3"},[a("div",{staticClass:"card bg-light"},[a("div",{staticClass:"card-header"},[t._v("Payment Information")]),a("div",{staticClass:"card-body"},[t.nonce?a("div",{staticClass:"alert alert-success"},[t._v(" Successfully generated nonce. ")]):t._e(),t.error?a("div",{staticClass:"alert alert-danger"},[t._v(" "+t._s(t.error)+" ")]):t._e(),a("form",[a("div",{staticClass:"form- group"},[a("label",{attrs:{for:"amount"}},[t._v("Amount")]),a("div",{staticClass:"input-group"},[t._m(0),a("input",{directives:[{name:"model",rawName:"v-model",value:t.amount,expression:"amount"}],staticClass:"form-control",attrs:{type:"number",id:"amount",placeholder:"Enter Amount"},domProps:{value:t.amount},on:{input:function(e){e.target.composing||(t.amount=e.target.value)}}})])]),a("hr"),t._m(1),t._m(2),a("button",{staticClass:"btn btn-primary btn-block",on:{click:function(e){return e.preventDefault(),t.payWithCreditCard(e)}}},[t._v(" Pay with Credit Card !!!! ")]),a("hr"),a("div",{attrs:{id:"paypalButton"}})])])])])])},bt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text"},[t._v("$")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"form-group"},[a("label",[t._v("Credit Card Number")]),a("div",{staticClass:"form-control",attrs:{id:"creditCardNumber"}})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"form-group"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-6"},[a("label",[t._v("Expire Date")]),a("div",{staticClass:"form-control",attrs:{id:"expireDate"}})]),a("div",{staticClass:"col-6"},[a("label",[t._v("CVV")]),a("div",{staticClass:"form-control",attrs:{id:"cvv"}})])])])}],gt=(a("3ca3"),a("ddb0"),a("82eb")),kt=a.n(gt),_t=a("f702"),Ct=a.n(_t),xt={data:function(){return{hostedFieldInstance:!1,nonce:"",error:"",amount:""}},created:function(){console.log("this.$route.params.total :> ",this.$route.params.total),console.log("this.$route.params.payload :> ",this.$route.params.payload),void 0!==this.$route.params.total?this.amount=this.$route.params.total:this.$router.push("/panier"),this.$route.params.payload&&this.$route.params.payload.userId&&this.$route.params.payload.info&&this.$route.params.payload.nom&&this.$route.params.payload.prenom&&this.$route.params.payload.adresse_facturation&&this.$route.params.payload.adresse_livraison||this.$router.push("/panier")},methods:{payWithCreditCard:function(){var t=this;this.hostedFieldInstance&&(this.error="",this.nonce="",this.hostedFieldInstance.tokenize().then((function(e){t.nonce=e.nonce;var a=t.$route.params.payload;t.axios.post($["a"]+"/commande/new",a).then((function(e){200==e.status&&(alert("COMMANDE OK"),localStorage.removeItem("panier"),setTimeout((function(){t.$router.push({name:"accueil"})}),2e3))})).catch((function(t){alert("error"),console.log(t)}))})).catch((function(e){console.error(e),t.error=e.message})))}},mounted:function(){var t=this;kt.a.client.create({authorization:"sandbox_38zvy5bz_w9c3j645kc9j8cms"}).then((function(t){var e={client:t,styles:{input:{"font-size":"14px","font-family":"Open Sans"}},fields:{number:{selector:"#creditCardNumber",placeholder:"Enter Credit Card"},cvv:{selector:"#cvv",placeholder:"Enter CVV"},expirationDate:{selector:"#expireDate",placeholder:"00 / 0000"}}};return Promise.all([kt.a.hostedFields.create(e),kt.a.paypalCheckout.create({client:t})])})).then((function(e){var a=e[0],n=e[1];return t.hostedFieldInstance=a,Ct.a.Button.render({env:"sandbox",style:{label:"paypal",size:"responsive",shape:"rect"},payment:function(){return n.createPayment({flow:"checkout",intent:"sale",amount:parseFloat(t.amount)>0?t.amount:10,displayName:"Braintree Testing",currency:"USD"})},onAuthorize:function(e,a){return n.tokenizePayment(e).then((function(e){console.log("payload :>> ",e),t.error="",t.nonce=e.nonce}))},onCancel:function(t){console.log(t),console.log("Payment Cancelled")},onError:function(e){console.error(e),t.error="An error occurred while processing the paypal payment."}},"#paypalButton")})).catch((function(t){}))}},yt=xt,wt=Object(m["a"])(yt,ht,bt,!1,null,null,null),Tt=wt.exports,St=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h1",[t._v("Bonjour "+t._s(t.user.nom))])])},$t=[],jt=a("48ac"),Et=a.n(jt),Ot={data:function(){return{user:{}}},created:function(){if(localStorage.getItem("auth")){console.log(localStorage.getItem("auth"));var t=Et.a.decode(localStorage.getItem("token"));"admin"!=t.role&&(localStorage.removeItem("token"),localStorage.removeItem("auth"),this.$router.push({path:"/admin/login"}))}}},Pt=Ot,Vt=Object(m["a"])(Pt,St,$t,!1,null,null,null),It=Vt.exports,qt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"wrap"},[a("h2",{staticClass:"titre"},[t._v("Completez ou modifier votre profil pour vos future commande")]),a("MyProfil"),a("MyFooter")],1)},Ft=[],Mt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"wrap"},[t.myToken?a("div",{staticClass:"profil"},[a("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-text-field",{attrs:{counter:25,rules:t.rules,label:"Nom",required:""},model:{value:t.nom,callback:function(e){t.nom=e},expression:"nom"}}),a("v-text-field",{attrs:{counter:25,rules:t.rules,label:"Prénom",required:""},model:{value:t.prenom,callback:function(e){t.prenom=e},expression:"prenom"}}),a("v-text-field",{attrs:{counter:50,rules:t.rulesAdr,label:"Adresse de Livrason",required:""},model:{value:t.adresse,callback:function(e){t.adresse=e},expression:"adresse"}}),a("v-checkbox",{attrs:{label:"Utiliser la même adresse pour la facturation"},model:{value:t.checkbox,callback:function(e){t.checkbox=e},expression:"checkbox"}}),t.checkbox?t._e():a("v-text-field",{attrs:{counter:50,rules:t.rulesAdr,label:"Adresse de Facturation",required:""},model:{value:t.adresseFacturation,callback:function(e){t.adresseFacturation=e},expression:"adresseFacturation"}}),1==t.valid?a("v-btn",{staticClass:"mr-4",attrs:{color:"success"},on:{click:t.validate}},[t._v(" Valider ")]):t._e(),0==t.valid?a("v-btn",{staticClass:"mr-4",attrs:{color:"warning"},on:{click:t.validate}},[t._v(" Valider ")]):t._e()],1),a("v-snackbar",{scopedSlots:t._u([{key:"action",fn:function(e){var n=e.attrs;return[a("v-btn",t._b({attrs:{color:"pink",text:""},on:{click:function(e){t.snackbar=!1}}},"v-btn",n,!1),[t._v(" Fermer ")])]}}],null,!1,3720243763),model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v(" votre profil a bien été mis à jour! ")])],1):t._e(),t.myToken?t._e():a("div",[a("v-btn",{staticClass:"mr-4",attrs:{color:"success"},on:{click:t.login}},[t._v(" Login ")])],1)])},Nt=[];function At(){var t=this;console.log("this.myToken :> ",this.myToken);var e=this.$refs.form.validate();if(1==e){var a={nom:this.nom,prenom:this.prenom,adresse_livraison:this.adresse,adresse_facturation:this.adresseFacturation,token:this.myToken};1!=this.checkbox&&this.adresseFacturation&&""!=this.adresseFacturation||(a.adresse_facturation=this.adresse),this.axios.put($["a"]+"/user/update/"+this.decodedToken.id,a).then((function(e){console.log("res.data PUT /user/update/ :> ",e.data),e.data.token?(console.log("res.data.token ",e.data.token),localStorage.setItem("token",e.data.token),t.myToken=e.data.token,t.myToken?(t.decodedToken=Object(c["a"])(t.myToken),console.log("this.decodedToken :> ",t.decodedToken),t.nom=t.decodedToken.nom,t.prenom=t.decodedToken.prenom,t.adresse=t.decodedToken.adresse_livraison,t.adresseFacturation=t.decodedToken.adresse_facturation):t.$router.push({name:"login"}),t.snackbar=!0):console.log("Error Myprofil.vue res.status != 200 || ! res.data.token")})).catch((function(t){alert("error ici"),console.log(t),console.log(t.response)}))}}function zt(){this.$router.push({name:"login"})}var Bt={name:"MyProfil",props:["profil"],methods:{validate:At,login:zt},data:function(){return{valid:!1,checkbox:!1,nom:"",prenom:"",adresse:"",adresseFacturation:"",rules:[function(t){return!!t||"Is required"},function(t){return t&&t.length<=25||"Must be less than 25 characters"}],rulesAdr:[function(t){return!!t||"Is required"},function(t){return t&&t.length>=10&&t.length<=50||"Must be above 10 characters and less than 50 characters"}],myToken:null,decodedToken:{},snackbar:!1}},created:function(){this.myToken=localStorage.getItem("token"),this.myToken?(this.decodedToken=Object(c["a"])(this.myToken),console.log("this.decodedToken :> ",this.decodedToken),this.nom=this.decodedToken.nom,this.prenom=this.decodedToken.prenom,this.adresse=this.decodedToken.adresse_livraison,this.adresseFacturation=this.decodedToken.adresse_facturation):this.$router.push({name:"login"})}},Dt=Bt,Lt=(a("2104"),a("ac7c")),Rt=a("4bd4"),Ut=a("8654"),Jt=Object(m["a"])(Dt,Mt,Nt,!1,null,"294ad446",null),Gt=Jt.exports;k()(Jt,{VBtn:V["a"],VCheckbox:Lt["a"],VForm:Rt["a"],VSnackbar:I["a"],VTextField:Ut["a"]});var Qt={data:function(){return{}},components:{MyProfil:Gt,MyFooter:D["a"]},mounted:function(){}},Kt=Qt,Wt=(a("3e81"),Object(m["a"])(Kt,qt,Ft,!1,null,"19670bd6",null)),Ht=Wt.exports,Xt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[a("h1",[t._v("Commande")]),a("MyCommande",{attrs:{panier:t.panier}})],1)},Zt=[],Yt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"wrap"},[a("div",{staticClass:"tabContainer"},[a("v-simple-table",{scopedSlots:t._u([{key:"default",fn:function(){return[a("thead",[a("tr",[a("th",{staticClass:"text-left"},[t._v(" Nom ")]),a("th",{staticClass:"text-left"},[t._v(" Prix unitaire ")]),a("th",{staticClass:"text-left"},[t._v(" quantité ")]),a("th",{staticClass:"text-left"},[t._v(" Prix total ")])])]),a("tbody",t._l(t.panier,(function(e){return a("tr",{key:e.produitId},[a("td",{staticClass:"text-left"},[t._v(t._s(e.nom))]),a("td",{staticClass:"text-left"},[t._v(t._s(e.prix_unitaire))]),a("td",{staticClass:"text-left"},[t._v(t._s(e.quantite))]),a("td",{staticClass:"text-left"},[t._v(" "+t._s(parseFloat(e.prix_unitaire)*e.quantite||e.soustotal)+" ")])])})),0)]},proxy:!0}])})],1),a("p",{staticClass:"prix-total"},[t._v(" "+t._s("le prix total de votre commande est "+t.prixtotal+"€")+" ")]),a("div",{staticClass:"formContainer"},[a("v-form",{model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-text-field",{attrs:{rules:t.nameRules,counter:20,label:"Prénom",required:""},model:{value:t.firstname,callback:function(e){t.firstname=e},expression:"firstname"}})],1),a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-text-field",{attrs:{rules:t.nameRules,counter:20,label:"Nom de famillle",required:""},model:{value:t.lastname,callback:function(e){t.lastname=e},expression:"lastname"}})],1),a("v-col",{attrs:{cols:"12",md:"12"}},[a("v-text-field",{attrs:{rules:t.adrRules,counter:50,label:"Adresse de livraison",required:""},model:{value:t.adrLiv,callback:function(e){t.adrLiv=e},expression:"adrLiv"}})],1),a("v-checkbox",{staticClass:"checkbox",attrs:{label:"Utiliser la même adresse pour la facturation"},model:{value:t.checkbox,callback:function(e){t.checkbox=e},expression:"checkbox"}}),0==t.checkbox?a("v-col",{attrs:{cols:"12",md:"12"}},[a("v-text-field",{attrs:{rules:t.adrRules,counter:50,label:"Adresse facturation",required:""},model:{value:t.adrFac,callback:function(e){t.adrFac=e},expression:"adrFac"}})],1):t._e()],1)],1)],1)],1),1==t.valid?a("div",{staticClass:"buttonContainer"},[a("button",{staticClass:"button",on:{click:t.valide}},[t._v("valider la commande")])]):t._e()])},te=[];a("4160"),a("159b");function ee(){if(localStorage.getItem("token")){var t=Et.a.decode(localStorage.getItem("token"));console.log("client.id :>> ",t.id);var e={info:this.panier,adresse_facturation:this.adrFac,adresse_livraison:this.adrLiv,nom:this.lastname,prenom:this.firstname,total:this.prixtotal,userId:t.id,email:this.decodedToken.email};this.checkbox&&(e.adresse_facturation=this.adrLiv),this.$router.push({name:"paypal",params:{total:this.prixtotal,payload:e}})}else this.$router.push({name:"login"})}var ae={props:{panier:Array},data:function(){return{prixtotal:0,valid:!1,firstname:"",lastname:"",adrFac:"",adrLiv:"",nameRules:[function(t){return!!t||"Name is required"},function(t){return t.length<=20||"Le nom doit être inférieur à 20 caractères"}],adrRules:[function(t){return!!t||"Is required"},function(t){return t&&t.length>=10&&t.length<=50||"Must be above 10 characters and less than 50 characters"}],checkbox:!1,decodedToken:{}}},methods:{valide:ee},created:function(){var t=this,e=localStorage.getItem("token");e||this.$router.push({name:"accueil"}),this.panier.forEach((function(e){t.prixtotal=t.prixtotal+e.prix_unitaire*e.quantite})),this.decodedToken=Et.a.decode(e),this.lastname=this.decodedToken.nom||"",this.firstname=this.decodedToken.prenom||"",this.adrFac=this.decodedToken.adresse_facturation||"",this.adrLiv=this.decodedToken.adresse_livraison||"",this.decodedToken.adresse_facturation==this.decodedToken.adresse_livraison&&(this.checkbox=!0)}},ne=ae,se=(a("0924"),a("62ad")),re=a("a523"),oe=a("0fd9"),ie=a("1f4f"),ce=Object(m["a"])(ne,Yt,te,!1,null,"025a95d4",null),le=ce.exports;k()(ce,{VCheckbox:Lt["a"],VCol:se["a"],VContainer:re["a"],VForm:Rt["a"],VRow:oe["a"],VSimpleTable:ie["a"],VTextField:Ut["a"]});var ue={components:{MyCommande:le},methods:{},data:function(){return{panier:[]}},created:function(){localStorage.getItem("panier")&&(this.panier=JSON.parse(localStorage.getItem("panier")),console.log("this.panier :> ",this.panier))}},de=ue,pe=(a("d804"),Object(m["a"])(de,Xt,Zt,!1,null,"b910f686",null)),me=pe.exports,fe=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"wrap"},[n("img",{staticClass:"logoimg",attrs:{src:a("5408")}}),t._m(0),t._m(1),t._m(2),n("MyFooter")],1)},ve=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"titre"},[a("h2",[t._v("À propos de nous")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"text"},[a("p",[t._v(" Notre société, AutoClérapide,vous propose uniquement des télécommandes automobiles de qualité et garantis. "),a("br"),t._v(" Notre équipe de professionnels vous conseille dans l'achat de vos pièces. "),a("br"),t._v(" Vous pourrez trouver sur notre site tous les éléments dont vous avez besoin pour réparer ou changer simplement votre télécommande, quel que soit son modèle ou sa marque. "),a("br"),t._v(" Tous les produits présentés sur notre site sont sélectionnés chez nos fournisseurs pour leur qualité. Que vous soyez un particulier ou un professionnel, vous trouverez tous les éléments dont vous avez besoin facilement et sans vous ruiner."),a("br"),t._v(" Si vous avez la moindre question technique, nos conseillers sont à votre disposition pour vous apporter les conseils et les réponses dont vous aurez besoin. ")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"key"},[n("img",{attrs:{src:a("fc3e"),alt:"cle",width:"500px"}})])}],he={components:{MyFooter:D["a"]},data:function(){return{}},mounted:function(){}},be=he,ge=(a("5477"),Object(m["a"])(be,fe,ve,!1,null,"450b44f1",null)),ke=ge.exports,_e=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"wrap"},[a("MyValidEmail")],1)},Ce=[],xe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"wrap"},[a("div",{staticClass:"valid"},[a("h5",[t._v("bonjour "+t._s(t.$route.params.email)+" pour finaliser la création de votre compte clicker sur valider")]),a("button",{staticClass:"btn",on:{click:t.validEmail}},[t._v("Valider")])]),a("v-snackbar",{scopedSlots:t._u([{key:"action",fn:function(e){var n=e.attrs;return[a("v-btn",t._b({attrs:{color:"pink",text:""},on:{click:function(e){t.snackbar=!1}}},"v-btn",n,!1),[t._v(" Fermer ")])]}}]),model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v(" votre compte a bien été validé, vous allez être rediriger pour vous connecter! ")])],1)},ye=[];function we(){var t=this;console.log("La fonction validEmail ce lance !"),console.log("this.$route.params.email",this.$route.params.email),console.log("this.$route.params.token",this.$route.params.token);var e=$["a"]+"/user/validuser";this.axios.post(e,{email:this.$route.params.email,token:this.$route.params.token}).then((function(e){console.log("response.data :>> ",e.data),t.snackbar=!0,setTimeout((function(){t.$router.push({path:"/login"})}),3e3)})).catch((function(t){console.log(t)}))}var Te={name:"MyValidEmail",props:["validemail"],methods:{validEmail:we},data:function(){return{snackbar:!1}},created:function(){var t=localStorage.getItem("token");t&&this.$router.push({name:"accueil"})}},Se=Te,$e=(a("3a28"),Object(m["a"])(Se,xe,ye,!1,null,"1ec32e45",null)),je=$e.exports;k()($e,{VBtn:V["a"],VSnackbar:I["a"]});var Ee={data:function(){return{}},components:{MyValidEmail:je},mounted:function(){}},Oe=Ee,Pe=(a("a8b5"),Object(m["a"])(Oe,_e,Ce,!1,null,"55b451a8",null)),Ve=Pe.exports,Ie=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"wrap"},[a("MyPwdChange")],1)},qe=[],Fe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"wrap"},[a("div",[a("div",{staticClass:"login-box"},[a("div",{staticClass:"login-snip"},[a("h1",[t._v("Nouveau mot de passe")]),a("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-text-field",{attrs:{autofocus:!0,type:"password",rules:t.passwordRules,label:"Entrez votre nouveau mot de passe",required:""},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.validate(e)}},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),a("v-text-field",{attrs:{type:"password",rules:t.repasswordRules,label:"Entrez de nouveau votre nouveau mot de passe",required:""},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.validate(e)}},model:{value:t.repassword,callback:function(e){t.repassword=e},expression:"repassword"}}),a("v-btn",{staticClass:"mr-4",attrs:{disabled:!t.valid||!t.password||!t.repassword,color:"success"},on:{click:t.validate}},[t._v(" Valider ")])],1)],1)]),a("v-snackbar",{scopedSlots:t._u([{key:"action",fn:function(e){var n=e.attrs;return[a("v-btn",t._b({attrs:{color:"pink",text:""},on:{click:function(e){t.snackbar=!1}}},"v-btn",n,!1),[t._v(" Fermer ")])]}}]),model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v(" "+t._s(t.snackbarText)+" ")])],1)])},Me=[];function Ne(){var t=this;if(this.valid&&this.password&&this.repassword&&this.password==this.repassword){console.log("this.$route.params.id",this.$route.params.id),console.log("this.$route.params.token",this.$route.params.token),console.log("this.password :>> ",this.password);var e=$["a"]+"/user/changepassword",a={id:this.$route.params.id,token:this.$route.params.token,password:this.password};console.log("url :>> ",e),console.log("payload :>> ",a),this.axios.post(e,a).then((function(e){console.log(" res.data :>> ",e.data),200==e.status&&(t.snackbarText="Votre mot de passe à bien été changé vous allé être redirigé",setTimeout((function(){t.$router.push({path:"/login"})}),3500),t.snackbar=!0)})).catch((function(e){if(520==e.response.status){t.snackbarText="erreur inconnu";var a=localStorage.getItem("token");a&&t.$router.push({name:"accueil"})}404==e.response.status&&(t.snackbarText="utilisateur inconnue"),401==e.response.status&&(t.snackbarText="votre lien changement de mot de passe est invalide, réessayez d'envoyé un lien pour changer votre mot de passe!"),t.snackbar=!0}))}}var Ae={props:{},data:function(){var t=this;return{valid:!1,snackbar:!1,password:"",repassword:"",passwordRules:[function(t){return!!t||"password is required"},function(t){return t.length>=4||"password must have at least 4 character"}],repasswordRules:[function(t){return!!t||"password is required"},function(e){return e===t.password||"confirmation password must be the same"}],snackbarText:""}},methods:{validate:Ne},created:function(){var t=localStorage.getItem("token");t&&this.$router.push({name:"accueil"})}},ze=Ae,Be=(a("f358"),Object(m["a"])(ze,Fe,Me,!1,null,"8cf0cbfe",null)),De=Be.exports;k()(Be,{VBtn:V["a"],VForm:Rt["a"],VSnackbar:I["a"],VTextField:Ut["a"]});var Le={components:{MyPwdChange:De},methods:{},data:function(){return{}},created:function(){}},Re=Le,Ue=Object(m["a"])(Re,Ie,qe,!1,null,"3604a4f0",null),Je=Ue.exports,Ge=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"wrap"},[a("MySendForegtPwd")],1)},Qe=[],Ke=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"login-box"},[a("div",{staticClass:"login-snip"},[a("h1",[t._v("Foreget Password")]),a("v-form",{ref:"form",attrs:{"lazy-validation":""},on:{submit:function(t){t.preventDefault()}},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-text-field",{attrs:{utofocus:"true",rules:t.emailRules,label:"E-mail",required:""},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.validate(e)}},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),a("v-btn",{staticClass:"mr-4",attrs:{disabled:!t.valid||!t.email,color:"success"},on:{click:t.validate}},[t._v(" Validate ")])],1),a("a",{staticClass:"link",attrs:{href:"./login"}},[t._v("retour")])],1)]),a("v-snackbar",{scopedSlots:t._u([{key:"action",fn:function(e){var n=e.attrs;return[a("v-btn",t._b({attrs:{color:"pink",text:""},on:{click:function(e){t.snackbar=!1}}},"v-btn",n,!1),[t._v(" Fermer ")])]}}]),model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v(" "+t._s(t.snackbarTxt)+" ")])],1)},We=[],He=(a("96cf"),a("1da1"));function Xe(){return Ze.apply(this,arguments)}function Ze(){return Ze=Object(He["a"])(regeneratorRuntime.mark((function t(){var e,a,n,s=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.valid&&this.email){t.next=2;break}return t.abrupt("return");case 2:return e=$["a"]+"/user/forgetpassword",a={email:this.email},t.next=6,this.axios.post(e,a).catch((function(t){console.log("error.response.status :> ",t.response.status),404==t.response.status&&(s.snackbarTxt="Nous avons pas trouvé votre adresse mail, veuillez-vous inscrire."),401==t.response.status&&(s.snackbarTxt="veuillez regarder votre boite email et dans les spams et validé votre compte"),s.snackbar=!0}));case 6:if(n=t.sent,n){t.next=9;break}return t.abrupt("return");case 9:200==n.status&&(this.snackbarTxt="un email vous a été envoyé pour changer votre mot de passe"),this.snackbar=!0;case 11:case"end":return t.stop()}}),t,this)}))),Ze.apply(this,arguments)}var Ye={props:{},data:function(){return{valid:!1,email:"",emailRules:[function(t){return!!t||"E-mail is required"},function(t){return/.+@.+\..+/.test(t)||"E-mail must be valid"}],snackbar:!1,snackbarTxt:""}},methods:{validate:Xe},created:function(){}},ta=Ye,ea=(a("6a08"),Object(m["a"])(ta,Ke,We,!1,null,"5a2de7fd",null)),aa=ea.exports;k()(ea,{VBtn:V["a"],VForm:Rt["a"],VSnackbar:I["a"],VTextField:Ut["a"]});var na={components:{MySendForegtPwd:aa},methods:{},data:function(){return{}},created:function(){}},sa=na,ra=Object(m["a"])(sa,Ge,Qe,!1,null,"7300bbca",null),oa=ra.exports,ia=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[1==t.admin?a("MyBackOffice"):t._e()],1)},ca=[],la=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[a("h1",[t._v("My back Office")]),a("v-btn",{attrs:{color:"success"},on:{click:function(e){t.ToggleClient=!t.ToggleClient}}},[t._v(" Clients / Commandes ")]),1==t.ToggleClient?a("TableClients"):t._e(),0==t.ToggleClient?a("div",[a("div",{staticClass:"container-tab"},[a("v-data-table",{staticClass:"elevation-5",attrs:{headers:t.headers,items:t.datas,"items-per-page":5,"sort-by":"id"},scopedSlots:t._u([{key:"item.info",fn:function(t){var e=t.item;return[a("json-viewer",{attrs:{boxed:"",copyable:"","expand-depth":0,value:e.info}})]}},{key:"item.user",fn:function(t){var e=t.item;return[a("json-viewer",{attrs:{boxed:"",copyable:"","expand-depth":0,value:e.user}})]}},{key:"item.created_at",fn:function(e){var n=e.item;return[a("div",[t._v(t._s(new Date(n.created_at).toLocaleDateString(void 0,t.optionsDate)+" "+new Date(n.created_at).toLocaleTimeString()))])]}},{key:"item.actions",fn:function(e){var n=e.item;return[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.editBtn(n)}}},[t._v(" mdi-pencil")]),a("v-icon",{attrs:{small:""},on:{click:function(e){return t.deleteBtn(n)}}},[t._v(" mdi-delete")])]}}],null,!1,1081672857)})],1),a("div",{staticClass:"container-tab"},[a("v-card",{staticClass:"mx-auto elevation-5"},[a("v-card-text",[a("div",{staticClass:"display-1 text--primary"},[t._v("Valider une commande")])]),a("v-card-actions",[a("v-text-field",{attrs:{label:"ID commande",required:""},model:{value:t.idToValidate,callback:function(e){t.idToValidate=e},expression:"idToValidate"}}),a("v-btn",{attrs:{color:"success"},on:{click:function(e){return t.editCommande(!0)}}},[t._v(" Valider la commande")]),a("v-btn",{attrs:{color:"warning"},on:{click:function(e){return t.editCommande(!1)}}},[t._v(" Annuler la commande ")])],1)],1)],1),a("div",{staticClass:"container-tab"},[a("v-card",{staticClass:"mx-auto elevation-5"},[a("v-card-text",[a("div",{staticClass:"display-1 text--primary"},[t._v("Supprimer une commande")])]),a("v-card-actions",[a("v-text-field",{attrs:{label:"ID commande",required:""},model:{value:t.idToDel,callback:function(e){t.idToDel=e},expression:"idToDel"}}),a("v-btn",{staticClass:"mr-4",attrs:{color:"success"},on:{click:t.deleteCommande}},[t._v(" Supprimer ")])],1)],1)],1)]):t._e()],1)},ua=[],da=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[a("v-data-table",{staticClass:"elevation-5",attrs:{headers:t.headers,items:t.clients,"items-per-page":5},scopedSlots:t._u([{key:"item.commandes",fn:function(t){var e=t.item;return[a("json-viewer",{attrs:{boxed:"",copyable:"","expand-depth":0,value:e.commandes}})]}}])})],1)},pa=[],ma=[{text:"Id",value:"id"},{text:"Email",value:"email"},{text:"Nom",value:"nom"},{text:"Prenom",value:"prenom"},{text:"Adresse livraison",value:"adresse_livraison"},{text:"Adresse facturation",value:"adresse_facturation"},{text:"Role",value:"role"},{text:"Valid",value:"valid"},{text:"ValidToken",value:"validtoken"},{text:"Commandes",value:"commandes"}];function fa(){var t=this,e=localStorage.getItem("token");console.log("mytoken :>> ",e);var a=$["a"]+"/user/admin/";this.axios.post(a,{token:e}).then((function(e){t.clients=e.data})).catch((function(t){console.log(t)}))}var va={data:function(){return{headers:ma,clients:[]}},methods:{initializeTab:fa},created:function(){this.initializeTab()}},ha=va,ba=(a("4c24"),a("8fea")),ga=Object(m["a"])(ha,da,pa,!1,null,"40ddfe8c",null),ka=ga.exports;function _a(t){this.idToDel=t.id}function Ca(){var t=this,e=localStorage.getItem("token"),a=$["a"]+"/commande/admin/delete/"+this.idToDel,n=confirm("Supprimer la commande : "+this.idToDel);1==n&&this.axios.post(a,{token:e}).then((function(e){t.initializeTab()})).catch((function(t){console.log(t)}))}function xa(t){var e=this,a=localStorage.getItem("token"),n=$["a"]+"/commande/admin/edit/"+this.idToValidate,s=confirm("Editer la commande : "+this.idToValidate+" status = "+t);1==s&&this.axios.post(n,{token:a,status:t}).then((function(t){e.initializeTab()})).catch((function(t){console.log(t)}))}function ya(t){this.idToValidate=t.id}function wa(){var t=this,e=localStorage.getItem("token"),a=$["a"]+"/commande/admin";this.axios.post(a,{token:e}).then((function(e){t.datas=e.data})).catch((function(t){console.log(t)}))}k()(ga,{VDataTable:ba["a"]});var Ta={components:{TableClients:ka},props:{},methods:{initializeTab:wa,deleteBtn:_a,deleteCommande:Ca,editCommande:xa,editBtn:ya},data:function(){return{headers:[{text:"id commande",value:"id"},{text:"user",value:"user"},{text:"adresse livraison",value:"adresse_livraison"},{text:"adresse facturation",value:"adresse_facturation"},{text:"date",value:"created_at"},{text:"info_commande",sortable:!1,value:"info"},{text:"total",value:"total"},{text:"status",value:"status"},{text:"Actions",value:"actions",sortable:!1}],datas:[],optionsDate:{weekday:"long",year:"numeric",month:"long",day:"numeric"},idToDel:"",idToValidate:"",ToggleClient:!1}},created:function(){this.initializeTab()}},Sa=Ta,$a=(a("645e"),a("b0af")),ja=a("99d9"),Ea=a("132d"),Oa=Object(m["a"])(Sa,la,ua,!1,null,"18136694",null),Pa=Oa.exports;k()(Oa,{VBtn:V["a"],VCard:$a["a"],VCardActions:ja["a"],VCardText:ja["b"],VDataTable:ba["a"],VIcon:Ea["a"],VTextField:Ut["a"]});var Va={components:{MyBackOffice:Pa},methods:{},data:function(){return{admin:!1}},created:function(){var t=this,e=localStorage.getItem("token");e||this.$router.push({name:"accueil"});var a=$["a"]+"/user/verify";this.axios.post(a,{token:e}).then((function(e){1==e.data.result&&("admin"==e.data.decoded.role?t.admin=!0:(console.log("le token est valide mais l'utilisateur n'est pas administarteur"),t.$router.push({name:"accueil"})))})).catch((function(e){console.log("la signature à été modifier, il n'est pas valide err :>> ",e),t.$router.push({name:"accueil"})}))}},Ia=Va,qa=(a("0d9b"),Object(m["a"])(Ia,ia,ca,!1,null,"0edcdf12",null)),Fa=qa.exports;n["default"].use(w["a"]);var Ma=[{name:"accueil",path:"/accueil",component:function(){return a.e("chunk-95d1bbf6").then(a.bind(null,"ab87"))}},{name:"",path:"/",component:function(){return a.e("chunk-95d1bbf6").then(a.bind(null,"ab87"))}},{path:"/login",name:"login",component:F},{path:"/register",name:"register",component:F},{path:"/validemail/:email/:token",name:"validemail",component:Ve},{path:"/produit",name:"produit",component:vt},{path:"/panier",name:"panier",component:et},{path:"/paypal",name:"paypal",component:Tt},{path:"/admin/home",name:"adminhogin",component:It},{path:"/profil",name:"profil",component:Ht},{path:"/commande",name:"commande",component:me},{path:"/propos",name:"propos",component:ke},{path:"/pwdchange/:id/:token",name:"pwdchange",component:Je},{path:"/sendforgetpwd",name:"sendforgetpwd",component:oa},{path:"/backoffice",name:"backoffice",component:Fa}],Na=new w["a"]({mode:"history",base:"/",routes:Ma}),Aa=Na,za=a("bc3a"),Ba=a.n(za),Da=a("a7fe"),La=a.n(Da),Ra=a("349e"),Ua=a.n(Ra),Ja=a("5f5b"),Ga=a("b1e0"),Qa=a("f309");n["default"].use(Qa["a"]);var Ka=new Qa["a"]({});n["default"].use(Ja["a"]),n["default"].use(Ga["a"]),n["default"].use(Ua.a),n["default"].use(La.a,Ba.a),n["default"].config.productionTip=!1,new n["default"]({router:Aa,vuetify:Ka,render:function(t){return t(x)}}).$mount("#app")},"56ec":function(t,e,a){},"5e2c":function(t,e,a){"use strict";var n=a("3701"),s=a.n(n);s.a},"639a":function(t,e,a){},"645e":function(t,e,a){"use strict";var n=a("517d"),s=a.n(n);s.a},"67a7":function(t,e,a){},"68ad":function(t,e,a){t.exports=a.p+"img/clio.44ce502b.jpeg"},"68ca":function(t,e,a){t.exports=a.p+"img/voiture.275112ab.jpeg"},"6a08":function(t,e,a){"use strict";var n=a("8052"),s=a.n(n);s.a},"6b3f":function(t,e,a){t.exports=a.p+"img/golf.9a0e69f4.jpeg"},7289:function(t,e,a){t.exports=a.p+"img/trafic.c2b4afd7.jpeg"},7395:function(t,e,a){},"791c":function(t,e,a){t.exports=a.p+"img/dacia.018a1de0.jpeg"},"7d01":function(t,e,a){t.exports=a.p+"img/koleos.0152d947.jpeg"},8052:function(t,e,a){},"85ec":function(t,e,a){},"8be3":function(t,e,a){},"8c01":function(t,e,a){"use strict";var n=a("639a"),s=a.n(n);s.a},9323:function(t,e,a){},"99f4":function(t,e,a){t.exports=a.p+"img/velsatis.92c93c76.jpeg"},"9c7c":function(t,e,a){t.exports=a.p+"img/opnr.224735dc.jpeg"},a3d9:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{wrap:""}},[a("footer",{staticClass:"blue text-center text-white"},[a("div",{staticClass:"container p-4"},[a("section",{},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-3 col-md-6 mb-4 mb-md-0"},[a("h6",{staticClass:"text-uppercase"},[a("b",[t._v("Service client")])]),a("ul",{staticClass:"list-unstyled mb-0"},[a("li",[a("b",[t._v("du lundi au vendredi")])]),a("li",[a("b",[t._v("09:00 - 18:00")])]),a("li",[a("b",[t._v("07 66 56 75 21")])]),a("li",[a("b",[t._v("autoclérapide@gmail.fr")])])])]),a("div",{staticClass:"col-lg-3 col-md-6 mb-4 mb-md-0"},[a("h6",{staticClass:"text-uppercase"},[a("b",[t._v("Compte client")])]),a("ul",{staticClass:"list-unstyled mb-0"},[a("li",[a("a",{staticClass:"text-white",attrs:{href:"/register"}},[a("b",[t._v("Mon compte")])])]),a("li",[a("a",{staticClass:"text-white",attrs:{href:"/profil"}},[a("b",[t._v("Mon profil")])])]),a("li",[a("a",{staticClass:"text-white",attrs:{href:"/Panier"}},[a("b",[t._v("Mon panier")])])]),a("li",[a("a",{staticClass:"text-white",attrs:{href:"/produit"}},[a("b",[t._v("Nos produits")])])])])]),a("div",{staticClass:"col-lg-3 col-md-6 mb-4 mb-md-0"},[a("h6",{staticClass:"text-uppercase"},[a("b",[t._v("PAIEMENTS SÉCURISÉS")])]),a("ul",{staticClass:"list-unstyled mb-0"},[a("li",[a("b",[t._v("CB")])]),a("li",[a("b",[t._v("Paypal")])])])]),a("div",{staticClass:"col-lg-3 col-md-6 mb-4 mb-md-0"},[a("h6",{staticClass:"text-uppercase"},[a("b",[t._v("ENGAGEMENT QUALITÉ")])]),a("ul",{staticClass:"list-unstyled mb-0"},[a("li",[a("b",[t._v("Autoclérapide s'engage "),a("br"),t._v(" sur la qualité de ses produits")])])])])])]),a("section",{staticClass:"mb-4"},[a("a",{staticClass:"btn btn-outline-light btn-floating m-1",attrs:{href:"https://www.facebook.com/autoclerapide",role:"button"}},[a("i",{staticClass:"fa fa-facebook"})]),a("a",{staticClass:"btn btn-outline-light btn-floating m-1",attrs:{href:"https://twitter.com/",role:"button"}},[a("i",{staticClass:"fa fa-twitter"})]),a("a",{staticClass:"btn btn-outline-light btn-floating m-1",attrs:{href:"https://www.youtube.com/",role:"button"}},[a("i",{staticClass:"fa fa-youtube"})]),a("a",{staticClass:"btn btn-outline-light btn-floating m-1",attrs:{href:"https://www.instagram.com/",role:"button"}},[a("i",{staticClass:"fa fa-instagram"})])])]),a("div",{staticClass:"text-center p-3",staticStyle:{"background-color":"rgba(0, 0, 0, 0.2)"}},[t._v(" © 2021 Copyright: Autoclérapide. Tous les droits sont réservés. ")])])])}],r={name:"MyFooter",components:{},data:function(){return{}},methods:{},created:function(){}},o=r,i=(a("15ef"),a("2877")),c=Object(i["a"])(o,n,s,!1,null,"ab19342c",null);e["a"]=c.exports},a46f:function(t,e,a){},a619:function(t,e,a){"use strict";var n=a("9323"),s=a.n(n);s.a},a85b:function(t,e,a){},a8b5:function(t,e,a){"use strict";var n=a("56ec"),s=a.n(n);s.a},ae33:function(t,e,a){},b135:function(t,e,a){t.exports=a.p+"img/fiat.babb4f30.jpeg"},b171:function(t,e,a){},b595:function(t,e,a){t.exports=a.p+"img/bjpi.9a0e69f4.jpeg"},b60f:function(t,e,a){t.exports=a.p+"img/chevrolet.950feef5.jpeg"},c5ae:function(t,e,a){t.exports=a.p+"img/talisman.7ee0cea7.jpeg"},c946:function(t,e,a){},d804:function(t,e,a){"use strict";var n=a("dc77"),s=a.n(n);s.a},dc77:function(t,e,a){},f358:function(t,e,a){"use strict";var n=a("a46f"),s=a.n(n);s.a},fc3e:function(t,e,a){t.exports=a.p+"img/cle.09f7733a.png"}});
//# sourceMappingURL=app.a1fbbd25.js.map